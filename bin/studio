#!/usr/bin/env php
<?php

require __DIR__.'/../../../autoload.php';

use Studio\Config\Config;
use Studio\Config\FileStorage;
use Studio\Console\CreateCommand;
use Studio\Console\LoadCommand;
use Studio\Console\ScrapCommand;
use Studio\Shell\TaskRunner;
use Symfony\Component\Console\Application;

$studioFile = getcwd().'/studio.json';
$config = new Config(new FileStorage($studioFile));

$shell = new TaskRunner();

$application = new Application();
$application->add(new CreateCommand($config, $shell));
$application->add(new LoadCommand($config, $shell));
$application->add(new ScrapCommand($config, $shell));
$application->run();
